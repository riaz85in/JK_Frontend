{"ast":null,"code":"\"use strict\";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{\"default\":mod};};Object.defineProperty(exports,\"__esModule\",{value:true});exports.useRejectionHandler=void 0;var react_1=__importDefault(require(\"react\"));var ExceptionsManager_1=__importDefault(require(\"./modules/ExceptionsManager\"));function useStackTraceLimit(limit){var current=react_1.default.useRef(0);react_1.default.useEffect(function(){try{var currentLimit=Error.stackTraceLimit;Error.stackTraceLimit=limit;current.current=currentLimit;}catch(_unused){}return function(){try{Error.stackTraceLimit=current.current;}catch(_unused2){}};},[limit]);}function useRejectionHandler(){var hasError=react_1.default.useRef(false);useStackTraceLimit(35);react_1.default.useEffect(function(){function onUnhandledError(ev){hasError.current=true;var error=ev===null||ev===void 0?void 0:ev.error;if(!error||!(error instanceof Error)||typeof error.stack!==\"string\"){return;}ExceptionsManager_1.default.handleException(error);}function onUnhandledRejection(ev){hasError.current=true;var reason=ev===null||ev===void 0?void 0:ev.reason;if(!reason||!(reason instanceof Error)||typeof reason.stack!==\"string\"){return;}ExceptionsManager_1.default.handleException(reason);}window.addEventListener(\"unhandledrejection\",onUnhandledRejection);window.addEventListener(\"error\",onUnhandledError);return function(){window.removeEventListener(\"error\",onUnhandledError);window.removeEventListener(\"unhandledrejection\",onUnhandledRejection);};},[]);return hasError;}exports.useRejectionHandler=useRejectionHandler;","map":{"version":3,"names":["react_1","__importDefault","require","ExceptionsManager_1","useStackTraceLimit","limit","current","default","useRef","useEffect","currentLimit","Error","stackTraceLimit","_unused","_unused2","useRejectionHandler","hasError","onUnhandledError","ev","error","stack","handleException","onUnhandledRejection","reason","window","addEventListener","removeEventListener","exports"],"sources":["C:\\Riaz\\Projects\\JK\\JK_Frontend\\node_modules\\@expo\\metro-runtime\\src\\error-overlay\\useRejectionHandler.ts"],"sourcesContent":["import React from \"react\";\n\nimport ExceptionsManager from \"./modules/ExceptionsManager\";\n\nfunction useStackTraceLimit(limit: number) {\n  const current = React.useRef(0);\n  React.useEffect(() => {\n    try {\n      const currentLimit = Error.stackTraceLimit;\n      Error.stackTraceLimit = limit;\n      current.current = currentLimit;\n    } catch {}\n    return () => {\n      try {\n        Error.stackTraceLimit = current.current;\n      } catch {}\n    };\n  }, [limit]);\n}\n\nexport function useRejectionHandler() {\n  const hasError = React.useRef(false);\n\n  useStackTraceLimit(35);\n\n  React.useEffect(() => {\n    function onUnhandledError(ev: ErrorEvent) {\n      hasError.current = true;\n\n      const error = ev?.error;\n      if (\n        !error ||\n        !(error instanceof Error) ||\n        typeof error.stack !== \"string\"\n      ) {\n        return;\n      }\n\n      ExceptionsManager.handleException(error);\n    }\n\n    function onUnhandledRejection(ev: PromiseRejectionEvent) {\n      hasError.current = true;\n\n      const reason = ev?.reason;\n      if (\n        !reason ||\n        !(reason instanceof Error) ||\n        typeof reason.stack !== \"string\"\n      ) {\n        return;\n      }\n\n      ExceptionsManager.handleException(reason);\n    }\n\n    window.addEventListener(\"unhandledrejection\", onUnhandledRejection);\n    window.addEventListener(\"error\", onUnhandledError);\n    return () => {\n      window.removeEventListener(\"error\", onUnhandledError);\n      window.removeEventListener(\"unhandledrejection\", onUnhandledRejection);\n    };\n  }, []);\n\n  return hasError;\n}\n"],"mappings":"wNAAA,IAAAA,OAAA,CAAAC,eAAA,CAAAC,OAAA,WAEA,IAAAC,mBAAA,CAAAF,eAAA,CAAAC,OAAA,iCAEA,QAAS,CAAAE,kBAAkBA,CAACC,KAAa,EACvC,GAAM,CAAAC,OAAO,CAAGN,OAAA,CAAAO,OAAK,CAACC,MAAM,CAAC,CAAC,CAAC,CAC/BR,OAAA,CAAAO,OAAK,CAACE,SAAS,CAAC,UAAK,CACnB,GAAI,CACF,GAAM,CAAAC,YAAY,CAAGC,KAAK,CAACC,eAAe,CAC1CD,KAAK,CAACC,eAAe,CAAGP,KAAK,CAC7BC,OAAO,CAACA,OAAO,CAAGI,YAAY,C,CAC9B,MAAAG,OAAA,CAAM,EACR,MAAO,WAAK,CACV,GAAI,CACFF,KAAK,CAACC,eAAe,CAAGN,OAAO,CAACA,OAAO,C,CACvC,MAAAQ,QAAA,CAAM,EACV,CAAC,CACH,CAAC,CAAE,CAACT,KAAK,CAAC,CAAC,CACb,CAEA,QAAgB,CAAAU,mBAAmBA,CAAA,EACjC,GAAM,CAAAC,QAAQ,CAAGhB,OAAA,CAAAO,OAAK,CAACC,MAAM,CAAC,KAAK,CAAC,CAEpCJ,kBAAkB,CAAC,EAAE,CAAC,CAEtBJ,OAAA,CAAAO,OAAK,CAACE,SAAS,CAAC,UAAK,CACnB,QAAS,CAAAQ,gBAAgBA,CAACC,EAAc,EACtCF,QAAQ,CAACV,OAAO,CAAG,IAAI,CAEvB,GAAM,CAAAa,KAAK,CAAGD,EAAE,SAAFA,EAAE,iBAAFA,EAAE,CAAEC,KAAK,CACvB,GACE,CAACA,KAAK,EACN,EAAEA,KAAK,WAAY,CAAAR,KAAK,CAAC,EACzB,MAAO,CAAAQ,KAAK,CAACC,KAAK,GAAK,QAAQ,CAC/B,CACA,O,CAGFjB,mBAAA,CAAAI,OAAiB,CAACc,eAAe,CAACF,KAAK,CAAC,CAC1C,CAEA,QAAS,CAAAG,oBAAoBA,CAACJ,EAAyB,EACrDF,QAAQ,CAACV,OAAO,CAAG,IAAI,CAEvB,GAAM,CAAAiB,MAAM,CAAGL,EAAE,SAAFA,EAAE,iBAAFA,EAAE,CAAEK,MAAM,CACzB,GACE,CAACA,MAAM,EACP,EAAEA,MAAM,WAAY,CAAAZ,KAAK,CAAC,EAC1B,MAAO,CAAAY,MAAM,CAACH,KAAK,GAAK,QAAQ,CAChC,CACA,O,CAGFjB,mBAAA,CAAAI,OAAiB,CAACc,eAAe,CAACE,MAAM,CAAC,CAC3C,CAEAC,MAAM,CAACC,gBAAgB,CAAC,oBAAoB,CAAEH,oBAAoB,CAAC,CACnEE,MAAM,CAACC,gBAAgB,CAAC,OAAO,CAAER,gBAAgB,CAAC,CAClD,MAAO,WAAK,CACVO,MAAM,CAACE,mBAAmB,CAAC,OAAO,CAAET,gBAAgB,CAAC,CACrDO,MAAM,CAACE,mBAAmB,CAAC,oBAAoB,CAAEJ,oBAAoB,CAAC,CACxE,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CAAAN,QAAQ,CACjB,CA7CAW,OAAA,CAAAZ,mBAAA,CAAAA,mBAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}