{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _assertThisInitialized from\"@babel/runtime/helpers/assertThisInitialized\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import MapperRegistry from\"./MapperRegistry\";import Mapper from\"./Mapper\";import MutableValue from\"./MutableValue\";import{NativeReanimated}from\"../NativeReanimated/NativeReanimated\";import{isJest}from\"../PlatformChecker\";var JSReanimated=function(_NativeReanimated){_inherits(JSReanimated,_NativeReanimated);var _super=_createSuper(JSReanimated);function JSReanimated(){var _this;_classCallCheck(this,JSReanimated);_this=_super.call(this,false);_this._valueSetter=undefined;_this._renderRequested=false;_this._mapperRegistry=new MapperRegistry(_assertThisInitialized(_this));_this._frames=[];if(isJest()){_this.timeProvider={now:function now(){return global.ReanimatedDataMock.now();}};}else{_this.timeProvider={now:function now(){return window.performance.now();}};}return _this;}_createClass(JSReanimated,[{key:\"pushFrame\",value:function pushFrame(frame){this._frames.push(frame);this.maybeRequestRender();}},{key:\"getTimestamp\",value:function getTimestamp(){return this.timeProvider.now();}},{key:\"maybeRequestRender\",value:function maybeRequestRender(){var _this2=this;if(!this._renderRequested){this._renderRequested=true;requestAnimationFrame(function(_timestampMs){_this2._renderRequested=false;_this2._onRender(_this2.getTimestamp());});}}},{key:\"_onRender\",value:function _onRender(timestampMs){this._mapperRegistry.execute();var frames=_toConsumableArray(this._frames);this._frames=[];for(var i=0,len=frames.length;i<len;++i){frames[i](timestampMs);}if(this._mapperRegistry.needRunOnRender){this._mapperRegistry.execute();}}},{key:\"installCoreFunctions\",value:function installCoreFunctions(valueSetter){this._valueSetter=valueSetter;}},{key:\"makeShareable\",value:function makeShareable(value){return value;}},{key:\"makeMutable\",value:function makeMutable(value){return new MutableValue(value,this._valueSetter);}},{key:\"makeRemote\",value:function makeRemote(){var object=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return object;}},{key:\"startMapper\",value:function startMapper(mapper){var inputs=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var outputs=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var instance=new Mapper(this,mapper,inputs,outputs);var mapperId=this._mapperRegistry.startMapper(instance);this.maybeRequestRender();return mapperId;}},{key:\"stopMapper\",value:function stopMapper(mapperId){this._mapperRegistry.stopMapper(mapperId);}},{key:\"registerEventHandler\",value:function registerEventHandler(_,__){return'';}},{key:\"unregisterEventHandler\",value:function unregisterEventHandler(_){}},{key:\"enableLayoutAnimations\",value:function enableLayoutAnimations(){console.warn('[Reanimated] enableLayoutAnimations is not available for WEB yet');}},{key:\"registerSensor\",value:function registerSensor(){console.warn('[Reanimated] useAnimatedSensor is not available on web yet.');return-1;}},{key:\"unregisterSensor\",value:function unregisterSensor(){}},{key:\"jestResetModule\",value:function jestResetModule(){if(isJest()){this._renderRequested=false;}else{throw Error('This method can be only use in Jest testing.');}}},{key:\"subscribeForKeyboardEvents\",value:function subscribeForKeyboardEvents(_){console.warn('[Reanimated] useAnimatedKeyboard is not available on web yet.');return-1;}},{key:\"unsubscribeFromKeyboardEvents\",value:function unsubscribeFromKeyboardEvents(_){}}]);return JSReanimated;}(NativeReanimated);export{JSReanimated as default};","map":{"version":3,"names":["MapperRegistry","Mapper","MutableValue","NativeReanimated","isJest","JSReanimated","_NativeReanimated","_inherits","_super","_createSuper","_this","_classCallCheck","call","_valueSetter","undefined","_renderRequested","_mapperRegistry","_assertThisInitialized","_frames","timeProvider","now","global","ReanimatedDataMock","window","performance","_createClass","key","value","pushFrame","frame","push","maybeRequestRender","getTimestamp","_this2","requestAnimationFrame","_timestampMs","_onRender","timestampMs","execute","frames","_toConsumableArray","i","len","length","needRunOnRender","installCoreFunctions","valueSetter","makeShareable","makeMutable","makeRemote","object","arguments","startMapper","mapper","inputs","outputs","instance","mapperId","stopMapper","registerEventHandler","_","__","unregisterEventHandler","enableLayoutAnimations","console","warn","registerSensor","unregisterSensor","jestResetModule","Error","subscribeForKeyboardEvents","unsubscribeFromKeyboardEvents","default"],"sources":["C:/Riaz/Projects/JK/JK_Frontend/node_modules/react-native-reanimated/lib/reanimated2/js-reanimated/JSReanimated.js"],"sourcesContent":["import MapperRegistry from './MapperRegistry';\nimport Mapper from './Mapper';\nimport MutableValue from './MutableValue';\nimport { NativeReanimated } from '../NativeReanimated/NativeReanimated';\nimport { isJest } from '../PlatformChecker';\nexport default class JSReanimated extends NativeReanimated {\n    constructor() {\n        super(false);\n        this._valueSetter = undefined;\n        this._renderRequested = false;\n        this._mapperRegistry = new MapperRegistry(this);\n        this._frames = [];\n        if (isJest()) {\n            this.timeProvider = { now: () => global.ReanimatedDataMock.now() };\n        }\n        else {\n            this.timeProvider = { now: () => window.performance.now() };\n        }\n    }\n    pushFrame(frame) {\n        this._frames.push(frame);\n        this.maybeRequestRender();\n    }\n    getTimestamp() {\n        return this.timeProvider.now();\n    }\n    maybeRequestRender() {\n        if (!this._renderRequested) {\n            this._renderRequested = true;\n            requestAnimationFrame((_timestampMs) => {\n                this._renderRequested = false;\n                this._onRender(this.getTimestamp());\n            });\n        }\n    }\n    _onRender(timestampMs) {\n        this._mapperRegistry.execute();\n        const frames = [...this._frames];\n        this._frames = [];\n        for (let i = 0, len = frames.length; i < len; ++i) {\n            frames[i](timestampMs);\n        }\n        if (this._mapperRegistry.needRunOnRender) {\n            this._mapperRegistry.execute();\n        }\n    }\n    installCoreFunctions(valueSetter) {\n        this._valueSetter = valueSetter;\n    }\n    makeShareable(value) {\n        return value;\n    }\n    makeMutable(value) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        return new MutableValue(value, this._valueSetter);\n    }\n    makeRemote(object = {}) {\n        return object;\n    }\n    startMapper(mapper, inputs = [], outputs = []) {\n        const instance = new Mapper(this, mapper, inputs, outputs);\n        const mapperId = this._mapperRegistry.startMapper(instance);\n        this.maybeRequestRender();\n        return mapperId;\n    }\n    stopMapper(mapperId) {\n        this._mapperRegistry.stopMapper(mapperId);\n    }\n    registerEventHandler(_, __) {\n        // noop\n        return '';\n    }\n    unregisterEventHandler(_) {\n        // noop\n    }\n    enableLayoutAnimations() {\n        console.warn('[Reanimated] enableLayoutAnimations is not available for WEB yet');\n    }\n    registerSensor() {\n        console.warn('[Reanimated] useAnimatedSensor is not available on web yet.');\n        return -1;\n    }\n    unregisterSensor() {\n        // noop\n    }\n    jestResetModule() {\n        if (isJest()) {\n            /**\n             * If someone used timers to stop animation before the end,\n             * then _renderRequested was set as true\n             * and any new update from another test wasn't applied.\n             */\n            this._renderRequested = false;\n        }\n        else {\n            throw Error('This method can be only use in Jest testing.');\n        }\n    }\n    subscribeForKeyboardEvents(_) {\n        console.warn('[Reanimated] useAnimatedKeyboard is not available on web yet.');\n        return -1;\n    }\n    unsubscribeFromKeyboardEvents(_) {\n        // noop\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}