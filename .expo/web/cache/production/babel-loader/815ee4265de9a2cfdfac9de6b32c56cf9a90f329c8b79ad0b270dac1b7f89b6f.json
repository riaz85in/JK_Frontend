{"ast":null,"code":"\"use strict\";var __createBinding=this&&this.__createBinding||(Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||(\"get\"in desc?!m.__esModule:desc.writable||desc.configurable)){desc={enumerable:true,get:function get(){return m[k];}};}Object.defineProperty(o,k2,desc);}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k];});var __setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(o,v){Object.defineProperty(o,\"default\",{enumerable:true,value:v});}:function(o,v){o[\"default\"]=v;});var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null)for(var k in mod)if(k!==\"default\"&&Object.prototype.hasOwnProperty.call(mod,k))__createBinding(result,mod,k);__setModuleDefault(result,mod);return result;};Object.defineProperty(exports,\"__esModule\",{value:true});exports.ErrorToastContainer=void 0;var react_1=__importStar(require(\"react\"));var react_native_1=require(\"react-native-web/dist/index\");var ErrorToast_1=require(\"./ErrorToast\");var LogBoxData=__importStar(require(\"../Data/LogBoxData\"));var LogContext_1=require(\"../Data/LogContext\");var useRejectionHandler_1=require(\"../useRejectionHandler\");function ErrorToastContainer(){(0,useRejectionHandler_1.useRejectionHandler)();var _ref=(0,LogContext_1.useLogs)(),logs=_ref.logs,isDisabled=_ref.isDisabled;if(!logs.length||isDisabled){return null;}return react_1.default.createElement(ErrorToastStack,{logs:logs});}exports.ErrorToastContainer=ErrorToastContainer;function ErrorToastStack(_ref2){var logs=_ref2.logs;var onDismissWarns=(0,react_1.useCallback)(function(){LogBoxData.clearWarnings();},[]);var onDismissErrors=(0,react_1.useCallback)(function(){LogBoxData.clearErrors();},[]);var setSelectedLog=(0,react_1.useCallback)(function(index){LogBoxData.setSelectedLog(index);},[]);function openLog(log){var index=logs.length-1;while(index>0&&logs[index]!==log){index-=1;}setSelectedLog(index);}var warnings=(0,react_1.useMemo)(function(){return logs.filter(function(log){return log.level===\"warn\";});},[logs]);var errors=(0,react_1.useMemo)(function(){return logs.filter(function(log){return log.level===\"error\"||log.level===\"fatal\";});},[logs]);return react_1.default.createElement(react_native_1.View,{style:styles.list},warnings.length>0&&react_1.default.createElement(ErrorToast_1.ErrorToast,{log:warnings[warnings.length-1],level:\"warn\",totalLogCount:warnings.length,onPressOpen:function onPressOpen(){return openLog(warnings[warnings.length-1]);},onPressDismiss:onDismissWarns}),errors.length>0&&react_1.default.createElement(ErrorToast_1.ErrorToast,{log:errors[errors.length-1],level:\"error\",totalLogCount:errors.length,onPressOpen:function onPressOpen(){return openLog(errors[errors.length-1]);},onPressDismiss:onDismissErrors}));}var styles=react_native_1.StyleSheet.create({list:{bottom:6,left:10,right:10,position:\"absolute\",maxWidth:320}});exports.default=LogBoxData.withSubscription(ErrorToastContainer);","map":{"version":3,"names":["react_1","__importStar","require","react_native_1","ErrorToast_1","LogBoxData","LogContext_1","useRejectionHandler_1","ErrorToastContainer","useRejectionHandler","_ref","useLogs","logs","isDisabled","length","default","createElement","ErrorToastStack","exports","_ref2","onDismissWarns","useCallback","clearWarnings","onDismissErrors","clearErrors","setSelectedLog","index","openLog","log","warnings","useMemo","filter","level","errors","View","style","styles","list","ErrorToast","totalLogCount","onPressOpen","onPressDismiss","StyleSheet","create","bottom","left","right","position","maxWidth","withSubscription"],"sources":["C:\\Riaz\\Projects\\JK\\JK_Frontend\\node_modules\\@expo\\metro-runtime\\src\\error-overlay\\toast\\ErrorToastContainer.web.tsx"],"sourcesContent":["/**\n * Copyright (c) Evan Bacon.\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React, { useCallback, useMemo } from \"react\";\nimport { StyleSheet, View } from \"react-native\";\n\nimport { ErrorToast } from \"./ErrorToast\";\nimport * as LogBoxData from \"../Data/LogBoxData\";\nimport { LogBoxLog } from \"../Data/LogBoxLog\";\nimport { useLogs } from \"../Data/LogContext\";\nimport { useRejectionHandler } from \"../useRejectionHandler\";\n\nexport function ErrorToastContainer() {\n  useRejectionHandler();\n  const { logs, isDisabled } = useLogs();\n  if (!logs.length || isDisabled) {\n    return null;\n  }\n  return <ErrorToastStack logs={logs} />;\n}\n\nfunction ErrorToastStack({ logs }: { logs: LogBoxLog[] }) {\n  const onDismissWarns = useCallback(() => {\n    LogBoxData.clearWarnings();\n  }, []);\n\n  const onDismissErrors = useCallback(() => {\n    LogBoxData.clearErrors();\n  }, []);\n\n  const setSelectedLog = useCallback((index: number): void => {\n    LogBoxData.setSelectedLog(index);\n  }, []);\n\n  function openLog(log: LogBoxLog) {\n    let index = logs.length - 1;\n\n    // Stop at zero because if we don't find any log, we'll open the first log.\n    while (index > 0 && logs[index] !== log) {\n      index -= 1;\n    }\n    setSelectedLog(index);\n  }\n\n  const warnings = useMemo(\n    () => logs.filter((log) => log.level === \"warn\"),\n    [logs]\n  );\n\n  const errors = useMemo(\n    () => logs.filter((log) => log.level === \"error\" || log.level === \"fatal\"),\n    [logs]\n  );\n\n  return (\n    <View style={styles.list}>\n      {warnings.length > 0 && (\n        <ErrorToast\n          log={warnings[warnings.length - 1]}\n          level=\"warn\"\n          totalLogCount={warnings.length}\n          onPressOpen={() => openLog(warnings[warnings.length - 1])}\n          onPressDismiss={onDismissWarns}\n        />\n      )}\n\n      {errors.length > 0 && (\n        <ErrorToast\n          log={errors[errors.length - 1]}\n          level=\"error\"\n          totalLogCount={errors.length}\n          onPressOpen={() => openLog(errors[errors.length - 1])}\n          onPressDismiss={onDismissErrors}\n        />\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  list: {\n    bottom: 6,\n    left: 10,\n    right: 10,\n    position: \"absolute\",\n    maxWidth: 320,\n  },\n});\n\nexport default LogBoxData.withSubscription(ErrorToastContainer);\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}