{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true;}catch(e){return false;}}import Platform from\"react-native-web/dist/exports/Platform\";import findNodeHandle from\"react-native-web/dist/exports/findNodeHandle\";import ReanimatedModule from\"../../ReanimatedModule\";import AnimatedNode from\"./AnimatedNode\";import InternalAnimatedValue from\"./AnimatedValue\";import{createAnimatedAlways}from\"./AnimatedAlways\";import invariant from'invariant';import createEventObjectProxyPolyfill from\"./createEventObjectProxyPolyfill\";function sanitizeArgMapping(argMapping){var eventMappings=[];var alwaysNodes=[];var getNode=function getNode(node){if(Platform.OS==='web'||Platform.OS==='windows'||Platform.OS==='macos'){return node;}return node.__nodeID;};var traverse=function traverse(value,path){if(value instanceof InternalAnimatedValue){eventMappings.push(path.concat(getNode(value)));}else if(typeof value==='object'&&value.__val){eventMappings.push(path.concat(getNode(value.__val)));}else if(typeof value==='function'){var node=new InternalAnimatedValue(0);alwaysNodes.push(createAnimatedAlways(value(node)));eventMappings.push(path.concat(getNode(node)));}else if(typeof value==='object'){for(var key in value){traverse(value[key],path.concat(key));}}};invariant(argMapping[0]&&argMapping[0].nativeEvent,'Native driven events only support animated values contained inside `nativeEvent`.');var ev=argMapping[0].nativeEvent;if(typeof ev==='object'){traverse(ev,[]);}else if(typeof ev==='function'){var proxyHandler={get:function get(target,name){if(name==='__isProxy'){return true;}if(!target[name]&&name!=='__val'){target[name]=new Proxy({},proxyHandler);}return target[name];},set:function set(target,prop,value){if(prop==='__val'){target[prop]=value;return true;}return false;}};var proxy=typeof Proxy==='function'?new Proxy({},proxyHandler):createEventObjectProxyPolyfill();alwaysNodes.push(createAnimatedAlways(ev(proxy)));traverse(proxy,[]);}return{eventMappings:eventMappings,alwaysNodes:alwaysNodes};}var AnimatedEvent=function(_AnimatedNode){_inherits(AnimatedEvent,_AnimatedNode);var _super=_createSuper(AnimatedEvent);function AnimatedEvent(argMapping){var _this;var _config=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,AnimatedEvent);var _sanitizeArgMapping=sanitizeArgMapping(argMapping),eventMappings=_sanitizeArgMapping.eventMappings,alwaysNodes=_sanitizeArgMapping.alwaysNodes;_this=_super.call(this,{type:'event',argMapping:eventMappings});_this.__isNative=true;_this._alwaysNodes=alwaysNodes;return _this;}_createClass(AnimatedEvent,[{key:\"toString\",value:function toString(){return\"AnimatedEvent, id: \"+this.__nodeID;}},{key:\"attachEvent\",value:function attachEvent(viewRef,eventName){for(var i=0;i<this._alwaysNodes.length;i++){this._alwaysNodes[i].__attach();}this.__attach();var viewTag=findNodeHandle(viewRef);ReanimatedModule.attachEvent(viewTag,eventName,this.__nodeID);}},{key:\"__onEvaluate\",value:function __onEvaluate(){return 0;}},{key:\"detachEvent\",value:function detachEvent(viewRef,eventName){for(var i=0;i<this._alwaysNodes.length;i++){this._alwaysNodes[i].isNativelyInitialized()&&this._alwaysNodes[i].__detach();}var viewTag=findNodeHandle(viewRef);ReanimatedModule.detachEvent(viewTag,eventName,this.__nodeID);this.__detach();}}]);return AnimatedEvent;}(AnimatedNode);export{AnimatedEvent as default};export function createAnimatedEvent(argMapping,config){return new AnimatedEvent(argMapping,config);}","map":{"version":3,"names":["ReanimatedModule","AnimatedNode","InternalAnimatedValue","createAnimatedAlways","invariant","createEventObjectProxyPolyfill","sanitizeArgMapping","argMapping","eventMappings","alwaysNodes","getNode","node","Platform","OS","__nodeID","traverse","value","path","push","concat","__val","key","nativeEvent","ev","proxyHandler","get","target","name","Proxy","set","prop","proxy","AnimatedEvent","_AnimatedNode","_inherits","_super","_createSuper","_this","_config","arguments","length","undefined","_classCallCheck","_sanitizeArgMapping","call","type","__isNative","_alwaysNodes","_createClass","toString","attachEvent","viewRef","eventName","i","__attach","viewTag","findNodeHandle","__onEvaluate","detachEvent","isNativelyInitialized","__detach","default","createAnimatedEvent","config"],"sources":["C:/Riaz/Projects/JK/JK_Frontend/node_modules/react-native-reanimated/lib/reanimated1/core/AnimatedEvent.js"],"sourcesContent":["import { Platform, findNodeHandle } from 'react-native';\nimport ReanimatedModule from '../../ReanimatedModule';\n\nimport AnimatedNode from './AnimatedNode';\nimport InternalAnimatedValue from './AnimatedValue';\nimport { createAnimatedAlways } from './AnimatedAlways';\n\nimport invariant from 'invariant';\nimport createEventObjectProxyPolyfill from './createEventObjectProxyPolyfill';\n\nfunction sanitizeArgMapping(argMapping) {\n  // Find animated values in `argMapping` and create an array representing their\n  // key path inside the `nativeEvent` object. Ex.: ['contentOffset', 'x'].\n  const eventMappings = [];\n  const alwaysNodes = [];\n\n  const getNode = (node) => {\n    if (\n      Platform.OS === 'web' ||\n      Platform.OS === 'windows' ||\n      Platform.OS === 'macos'\n    ) {\n      return node;\n    }\n    return node.__nodeID;\n  };\n\n  const traverse = (value, path) => {\n    if (value instanceof InternalAnimatedValue) {\n      eventMappings.push(path.concat(getNode(value)));\n    } else if (typeof value === 'object' && value.__val) {\n      eventMappings.push(path.concat(getNode(value.__val)));\n    } else if (typeof value === 'function') {\n      const node = new InternalAnimatedValue(0);\n      alwaysNodes.push(createAnimatedAlways(value(node)));\n      eventMappings.push(path.concat(getNode(node)));\n    } else if (typeof value === 'object') {\n      for (const key in value) {\n        traverse(value[key], path.concat(key));\n      }\n    }\n  };\n\n  invariant(\n    argMapping[0] && argMapping[0].nativeEvent,\n    'Native driven events only support animated values contained inside `nativeEvent`.'\n  );\n\n  // Assume that the event containing `nativeEvent` is always the first argument.\n  const ev = argMapping[0].nativeEvent;\n  if (typeof ev === 'object') {\n    traverse(ev, []);\n  } else if (typeof ev === 'function') {\n    const proxyHandler = {\n      get: function (target, name) {\n        if (name === '__isProxy') {\n          return true;\n        }\n        if (!target[name] && name !== '__val') {\n          target[name] = new Proxy({}, proxyHandler);\n        }\n        return target[name];\n      },\n      set: function (target, prop, value) {\n        if (prop === '__val') {\n          target[prop] = value;\n          return true;\n        }\n        return false;\n      },\n    };\n\n    const proxy =\n      typeof Proxy === 'function'\n        ? new Proxy({}, proxyHandler)\n        : createEventObjectProxyPolyfill();\n    alwaysNodes.push(createAnimatedAlways(ev(proxy)));\n    traverse(proxy, []);\n  }\n\n  return { eventMappings, alwaysNodes };\n}\n\nexport default class AnimatedEvent extends AnimatedNode {\n  constructor(argMapping, _config = {}) {\n    const { eventMappings, alwaysNodes } = sanitizeArgMapping(argMapping);\n    super({ type: 'event', argMapping: eventMappings });\n    this._alwaysNodes = alwaysNodes;\n  }\n\n  toString() {\n    return `AnimatedEvent, id: ${this.__nodeID}`;\n  }\n\n  // The below field is a temporary workaround to make AnimatedEvent object be recognized\n  // as Animated.event event callback and therefore filtered out from being send over the\n  // bridge which was causing the object to be frozen in JS.\n  __isNative = true;\n\n  attachEvent(viewRef, eventName) {\n    for (let i = 0; i < this._alwaysNodes.length; i++) {\n      this._alwaysNodes[i].__attach();\n    }\n    this.__attach();\n    const viewTag = findNodeHandle(viewRef);\n    ReanimatedModule.attachEvent(viewTag, eventName, this.__nodeID);\n  }\n\n  __onEvaluate() {\n    return 0;\n  }\n\n  detachEvent(viewRef, eventName) {\n    for (let i = 0; i < this._alwaysNodes.length; i++) {\n      this._alwaysNodes[i].isNativelyInitialized() &&\n        this._alwaysNodes[i].__detach();\n    }\n    const viewTag = findNodeHandle(viewRef);\n    ReanimatedModule.detachEvent(viewTag, eventName, this.__nodeID);\n    this.__detach();\n  }\n}\n\nexport function createAnimatedEvent(argMapping, config) {\n  return new AnimatedEvent(argMapping, config);\n}\n"],"mappings":"2oCACA,MAAO,CAAAA,gBAAgB,8BAEvB,MAAO,CAAAC,YAAY,sBACnB,MAAO,CAAAC,qBAAqB,uBAC5B,OAASC,oBAAoB,wBAE7B,MAAO,CAAAC,SAAS,KAAM,WAAW,CACjC,MAAO,CAAAC,8BAA8B,wCAErC,QAAS,CAAAC,kBAAkBA,CAACC,UAAU,CAAE,CAGtC,GAAM,CAAAC,aAAa,CAAG,EAAE,CACxB,GAAM,CAAAC,WAAW,CAAG,EAAE,CAEtB,GAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAIC,IAAI,CAAK,CACxB,GACEC,QAAQ,CAACC,EAAE,GAAK,KAAK,EACrBD,QAAQ,CAACC,EAAE,GAAK,SAAS,EACzBD,QAAQ,CAACC,EAAE,GAAK,OAAO,CACvB,CACA,MAAO,CAAAF,IAAI,CACb,CACA,MAAO,CAAAA,IAAI,CAACG,QAAQ,CACtB,CAAC,CAED,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIC,KAAK,CAAEC,IAAI,CAAK,CAChC,GAAID,KAAK,WAAY,CAAAd,qBAAqB,CAAE,CAC1CM,aAAa,CAACU,IAAI,CAACD,IAAI,CAACE,MAAM,CAACT,OAAO,CAACM,KAAK,CAAC,CAAC,CAAC,CACjD,CAAC,IAAM,IAAI,MAAO,CAAAA,KAAK,GAAK,QAAQ,EAAIA,KAAK,CAACI,KAAK,CAAE,CACnDZ,aAAa,CAACU,IAAI,CAACD,IAAI,CAACE,MAAM,CAACT,OAAO,CAACM,KAAK,CAACI,KAAK,CAAC,CAAC,CAAC,CACvD,CAAC,IAAM,IAAI,MAAO,CAAAJ,KAAK,GAAK,UAAU,CAAE,CACtC,GAAM,CAAAL,IAAI,CAAG,GAAI,CAAAT,qBAAqB,CAAC,CAAC,CAAC,CACzCO,WAAW,CAACS,IAAI,CAACf,oBAAoB,CAACa,KAAK,CAACL,IAAI,CAAC,CAAC,CAAC,CACnDH,aAAa,CAACU,IAAI,CAACD,IAAI,CAACE,MAAM,CAACT,OAAO,CAACC,IAAI,CAAC,CAAC,CAAC,CAChD,CAAC,IAAM,IAAI,MAAO,CAAAK,KAAK,GAAK,QAAQ,CAAE,CACpC,IAAK,GAAM,CAAAK,GAAG,GAAI,CAAAL,KAAK,CAAE,CACvBD,QAAQ,CAACC,KAAK,CAACK,GAAG,CAAC,CAAEJ,IAAI,CAACE,MAAM,CAACE,GAAG,CAAC,CAAC,CACxC,CACF,CACF,CAAC,CAEDjB,SAAS,CACPG,UAAU,CAAC,CAAC,CAAC,EAAIA,UAAU,CAAC,CAAC,CAAC,CAACe,WAAW,CAC1C,mFAAmF,CACpF,CAGD,GAAM,CAAAC,EAAE,CAAGhB,UAAU,CAAC,CAAC,CAAC,CAACe,WAAW,CACpC,GAAI,MAAO,CAAAC,EAAE,GAAK,QAAQ,CAAE,CAC1BR,QAAQ,CAACQ,EAAE,CAAE,EAAE,CAAC,CAClB,CAAC,IAAM,IAAI,MAAO,CAAAA,EAAE,GAAK,UAAU,CAAE,CACnC,GAAM,CAAAC,YAAY,CAAG,CACnBC,GAAG,CAAE,SAAAA,IAAUC,MAAM,CAAEC,IAAI,CAAE,CAC3B,GAAIA,IAAI,GAAK,WAAW,CAAE,CACxB,MAAO,KAAI,CACb,CACA,GAAI,CAACD,MAAM,CAACC,IAAI,CAAC,EAAIA,IAAI,GAAK,OAAO,CAAE,CACrCD,MAAM,CAACC,IAAI,CAAC,CAAG,GAAI,CAAAC,KAAK,CAAC,CAAC,CAAC,CAAEJ,YAAY,CAAC,CAC5C,CACA,MAAO,CAAAE,MAAM,CAACC,IAAI,CAAC,CACrB,CAAC,CACDE,GAAG,CAAE,SAAAA,IAAUH,MAAM,CAAEI,IAAI,CAAEd,KAAK,CAAE,CAClC,GAAIc,IAAI,GAAK,OAAO,CAAE,CACpBJ,MAAM,CAACI,IAAI,CAAC,CAAGd,KAAK,CACpB,MAAO,KAAI,CACb,CACA,MAAO,MAAK,CACd,CACF,CAAC,CAED,GAAM,CAAAe,KAAK,CACT,MAAO,CAAAH,KAAK,GAAK,UAAU,CACvB,GAAI,CAAAA,KAAK,CAAC,CAAC,CAAC,CAAEJ,YAAY,CAAC,CAC3BnB,8BAA8B,EAAE,CACtCI,WAAW,CAACS,IAAI,CAACf,oBAAoB,CAACoB,EAAE,CAACQ,KAAK,CAAC,CAAC,CAAC,CACjDhB,QAAQ,CAACgB,KAAK,CAAE,EAAE,CAAC,CACrB,CAEA,MAAO,CAAEvB,aAAa,CAAbA,aAAa,CAAEC,WAAW,CAAXA,WAAY,CAAC,CACvC,CAAC,GAEoB,CAAAuB,aAAa,UAAAC,aAAA,EAAAC,SAAA,CAAAF,aAAA,CAAAC,aAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,aAAA,EAChC,SAAAA,cAAYzB,UAAU,CAAgB,KAAA8B,KAAA,IAAd,CAAAC,OAAO,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CAAAG,eAAA,MAAAV,aAAA,EAClC,IAAAW,mBAAA,CAAuCrC,kBAAkB,CAACC,UAAU,CAAC,CAA7DC,aAAa,CAAAmC,mBAAA,CAAbnC,aAAa,CAAEC,WAAW,CAAAkC,mBAAA,CAAXlC,WAAW,CAClC4B,KAAA,CAAAF,MAAA,CAAAS,IAAA,MAAM,CAAEC,IAAI,CAAE,OAAO,CAAEtC,UAAU,CAAEC,aAAc,CAAC,EAAE6B,KAAA,CAWtDS,UAAU,CAAG,IAAI,CAVfT,KAAA,CAAKU,YAAY,CAAGtC,WAAW,CAAC,OAAA4B,KAAA,CAClC,CAACW,YAAA,CAAAhB,aAAA,GAAAX,GAAA,YAAAL,KAAA,CAED,SAAAiC,SAAA,CAAW,CACT,4BAA6B,IAAI,CAACnC,QAAQ,CAC5C,CAAC,GAAAO,GAAA,eAAAL,KAAA,CAOD,SAAAkC,YAAYC,OAAO,CAAEC,SAAS,CAAE,CAC9B,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAG,IAAI,CAACN,YAAY,CAACP,MAAM,CAAEa,CAAC,EAAE,CAAE,CACjD,IAAI,CAACN,YAAY,CAACM,CAAC,CAAC,CAACC,QAAQ,EAAE,CACjC,CACA,IAAI,CAACA,QAAQ,EAAE,CACf,GAAM,CAAAC,OAAO,CAAGC,cAAc,CAACL,OAAO,CAAC,CACvCnD,gBAAgB,CAACkD,WAAW,CAACK,OAAO,CAAEH,SAAS,CAAE,IAAI,CAACtC,QAAQ,CAAC,CACjE,CAAC,GAAAO,GAAA,gBAAAL,KAAA,CAED,SAAAyC,aAAA,CAAe,CACb,MAAO,EAAC,CACV,CAAC,GAAApC,GAAA,eAAAL,KAAA,CAED,SAAA0C,YAAYP,OAAO,CAAEC,SAAS,CAAE,CAC9B,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAG,IAAI,CAACN,YAAY,CAACP,MAAM,CAAEa,CAAC,EAAE,CAAE,CACjD,IAAI,CAACN,YAAY,CAACM,CAAC,CAAC,CAACM,qBAAqB,EAAE,EAC1C,IAAI,CAACZ,YAAY,CAACM,CAAC,CAAC,CAACO,QAAQ,EAAE,CACnC,CACA,GAAM,CAAAL,OAAO,CAAGC,cAAc,CAACL,OAAO,CAAC,CACvCnD,gBAAgB,CAAC0D,WAAW,CAACH,OAAO,CAAEH,SAAS,CAAE,IAAI,CAACtC,QAAQ,CAAC,CAC/D,IAAI,CAAC8C,QAAQ,EAAE,CACjB,CAAC,WAAA5B,aAAA,GArCwC/B,YAAY,SAAlC+B,aAAa,IAAA6B,OAAA,EAwClC,MAAO,SAAS,CAAAC,mBAAmBA,CAACvD,UAAU,CAAEwD,MAAM,CAAE,CACtD,MAAO,IAAI,CAAA/B,aAAa,CAACzB,UAAU,CAAEwD,MAAM,CAAC,CAC9C"},"metadata":{},"sourceType":"module","externalDependencies":[]}