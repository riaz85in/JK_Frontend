{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import{useNavigation}from\"@react-navigation/native\";import{useCallback,useState,useEffect,useRef}from\"react\";import{getNavigationContainerRef}from\"../NavigationContainer\";export function useLoadedNavigation(){var root=getNavigationContainerRef();var navigation=useNavigation();var isMounted=useRef(true);var pending=useRef([]);useEffect(function(){isMounted.current=true;return function(){isMounted.current=false;};},[]);var flush=useCallback(function(){if(isMounted.current){var pendingCallbacks=pending.current;pending.current=[];pendingCallbacks.forEach(function(callback){callback(navigation);});}},[navigation]);useEffect(function(){if(root){flush();}},[root,flush]);var push=useCallback(function(fn){pending.current.push(fn);if(root){flush();}},[flush,root]);return push;}export function useOptionalNavigation(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),navigation=_useState2[0],setNavigation=_useState2[1];var loadNavigation=useLoadedNavigation();useEffect(function(){loadNavigation(function(nav){return setNavigation(nav);});},[]);return navigation;}","map":{"version":3,"names":["useNavigation","useCallback","useState","useEffect","useRef","getNavigationContainerRef","useLoadedNavigation","root","navigation","isMounted","pending","current","flush","pendingCallbacks","forEach","callback","push","fn","useOptionalNavigation","_useState","_useState2","_slicedToArray","setNavigation","loadNavigation","nav"],"sources":["C:/Riaz/Projects/JK/JK_Frontend/node_modules/expo-router/src/link/useLoadedNavigation.ts"],"sourcesContent":["import { NavigationProp, useNavigation } from \"@react-navigation/native\";\nimport { useCallback, useState, useEffect, useRef } from \"react\";\n\nimport { getNavigationContainerRef } from \"../NavigationContainer\";\n\ntype GenericNavigation = NavigationProp<ReactNavigation.RootParamList>;\n\n/** Returns a callback which is invoked when the navigation state has loaded. */\nexport function useLoadedNavigation() {\n  const root = getNavigationContainerRef();\n  const navigation = useNavigation();\n  const isMounted = useRef(true);\n  const pending = useRef<((navigation: GenericNavigation) => void)[]>([]);\n\n  useEffect(() => {\n    isMounted.current = true;\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  const flush = useCallback(() => {\n    if (isMounted.current) {\n      const pendingCallbacks = pending.current;\n      pending.current = [];\n      pendingCallbacks.forEach((callback) => {\n        callback(navigation);\n      });\n    }\n  }, [navigation]);\n\n  useEffect(() => {\n    if (root) {\n      flush();\n    }\n  }, [root, flush]);\n\n  const push = useCallback(\n    (fn: (navigation: GenericNavigation) => void) => {\n      pending.current.push(fn);\n      if (root) {\n        flush();\n      }\n    },\n    [flush, root]\n  );\n\n  return push;\n}\n\nexport function useOptionalNavigation(): GenericNavigation | null {\n  const [navigation, setNavigation] = useState<GenericNavigation | null>(null);\n  const loadNavigation = useLoadedNavigation();\n\n  useEffect(() => {\n    loadNavigation((nav) => setNavigation(nav));\n  }, []);\n\n  return navigation;\n}\n"],"mappings":"iEAAA,OAAyBA,aAAa,KAAQ,0BAA0B,CACxE,OAASC,WAAW,CAAEC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAEhE,OAASC,yBAAyB,8BAKlC,MAAO,SAAS,CAAAC,mBAAmBA,CAAA,CAAG,CACpC,GAAM,CAAAC,IAAI,CAAGF,yBAAyB,EAAE,CACxC,GAAM,CAAAG,UAAU,CAAGR,aAAa,EAAE,CAClC,GAAM,CAAAS,SAAS,CAAGL,MAAM,CAAC,IAAI,CAAC,CAC9B,GAAM,CAAAM,OAAO,CAAGN,MAAM,CAA8C,EAAE,CAAC,CAEvED,SAAS,CAAC,UAAM,CACdM,SAAS,CAACE,OAAO,CAAG,IAAI,CACxB,MAAO,WAAM,CACXF,SAAS,CAACE,OAAO,CAAG,KAAK,CAC3B,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAC,KAAK,CAAGX,WAAW,CAAC,UAAM,CAC9B,GAAIQ,SAAS,CAACE,OAAO,CAAE,CACrB,GAAM,CAAAE,gBAAgB,CAAGH,OAAO,CAACC,OAAO,CACxCD,OAAO,CAACC,OAAO,CAAG,EAAE,CACpBE,gBAAgB,CAACC,OAAO,CAAC,SAACC,QAAQ,CAAK,CACrCA,QAAQ,CAACP,UAAU,CAAC,CACtB,CAAC,CAAC,CACJ,CACF,CAAC,CAAE,CAACA,UAAU,CAAC,CAAC,CAEhBL,SAAS,CAAC,UAAM,CACd,GAAII,IAAI,CAAE,CACRK,KAAK,EAAE,CACT,CACF,CAAC,CAAE,CAACL,IAAI,CAAEK,KAAK,CAAC,CAAC,CAEjB,GAAM,CAAAI,IAAI,CAAGf,WAAW,CACtB,SAACgB,EAA2C,CAAK,CAC/CP,OAAO,CAACC,OAAO,CAACK,IAAI,CAACC,EAAE,CAAC,CACxB,GAAIV,IAAI,CAAE,CACRK,KAAK,EAAE,CACT,CACF,CAAC,CACD,CAACA,KAAK,CAAEL,IAAI,CAAC,CACd,CAED,MAAO,CAAAS,IAAI,CACb,CAEA,MAAO,SAAS,CAAAE,qBAAqBA,CAAA,CAA6B,CAChE,IAAAC,SAAA,CAAoCjB,QAAQ,CAA2B,IAAI,CAAC,CAAAkB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArEX,UAAU,CAAAY,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAChC,GAAM,CAAAG,cAAc,CAAGjB,mBAAmB,EAAE,CAE5CH,SAAS,CAAC,UAAM,CACdoB,cAAc,CAAC,SAACC,GAAG,QAAK,CAAAF,aAAa,CAACE,GAAG,CAAC,GAAC,CAC7C,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CAAAhB,UAAU,CACnB"},"metadata":{},"sourceType":"module","externalDependencies":[]}