{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import MutableValue from\"./MutableValue\";var Mapper=function(){function Mapper(module,mapper){var _this=this;var inputs=arguments.length>2&&arguments[2]!==undefined?arguments[2]:[];var outputs=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[];_classCallCheck(this,Mapper);this.dirty=true;this.id=Mapper.MAPPER_ID++;this.inputs=this.extractMutablesFromArray(inputs);this.outputs=this.extractMutablesFromArray(outputs);this.mapper=mapper;var markDirty=function markDirty(){_this.dirty=true;module.maybeRequestRender();};this.inputs.forEach(function(input){input.addListener(markDirty);});}_createClass(Mapper,[{key:\"execute\",value:function execute(){this.dirty=false;this.mapper();}},{key:\"extractMutablesFromArray\",value:function extractMutablesFromArray(array){var res=[];function extractMutables(value){if(value==null){}else if(value instanceof MutableValue){res.push(value);}else if(Array.isArray(value)){value.forEach(function(v){return extractMutables(v);});}else if(typeof value==='object'){Object.keys(value).forEach(function(key){extractMutables(value[key]);});}}extractMutables(array);return res;}}]);return Mapper;}();export{Mapper as default};Mapper.MAPPER_ID=1;","map":{"version":3,"names":["MutableValue","Mapper","module","mapper","_this","inputs","arguments","length","undefined","outputs","_classCallCheck","dirty","id","MAPPER_ID","extractMutablesFromArray","markDirty","maybeRequestRender","forEach","input","addListener","_createClass","key","value","execute","array","res","extractMutables","push","Array","isArray","v","Object","keys","default"],"sources":["C:/Riaz/Projects/JK/JK_Frontend/node_modules/react-native-reanimated/lib/reanimated2/js-reanimated/Mapper.js"],"sourcesContent":["import MutableValue from './MutableValue';\nexport default class Mapper {\n    constructor(module, mapper, inputs = [], outputs = []) {\n        this.dirty = true;\n        this.id = Mapper.MAPPER_ID++;\n        this.inputs = this.extractMutablesFromArray(inputs);\n        this.outputs = this.extractMutablesFromArray(outputs);\n        this.mapper = mapper;\n        const markDirty = () => {\n            this.dirty = true;\n            module.maybeRequestRender();\n        };\n        this.inputs.forEach((input) => {\n            input.addListener(markDirty);\n        });\n    }\n    execute() {\n        this.dirty = false;\n        this.mapper();\n    }\n    extractMutablesFromArray(array) {\n        const res = [];\n        function extractMutables(value) {\n            if (value == null) {\n                // return;\n            }\n            else if (value instanceof MutableValue) {\n                res.push(value);\n            }\n            else if (Array.isArray(value)) {\n                value.forEach((v) => extractMutables(v));\n            }\n            else if (typeof value === 'object') {\n                Object.keys(value).forEach((key) => {\n                    extractMutables(value[key]);\n                });\n            }\n        }\n        extractMutables(array);\n        return res;\n    }\n}\nMapper.MAPPER_ID = 1;\n"],"mappings":"gIAAA,MAAO,CAAAA,YAAY,sBAAuB,GACrB,CAAAC,MAAM,YACvB,SAAAA,OAAYC,MAAM,CAAEC,MAAM,CAA6B,KAAAC,KAAA,SAA3B,CAAAC,MAAM,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,IAAE,CAAAG,OAAO,CAAAH,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,CAAAI,eAAA,MAAAT,MAAA,EACjD,IAAI,CAACU,KAAK,CAAG,IAAI,CACjB,IAAI,CAACC,EAAE,CAAGX,MAAM,CAACY,SAAS,EAAE,CAC5B,IAAI,CAACR,MAAM,CAAG,IAAI,CAACS,wBAAwB,CAACT,MAAM,CAAC,CACnD,IAAI,CAACI,OAAO,CAAG,IAAI,CAACK,wBAAwB,CAACL,OAAO,CAAC,CACrD,IAAI,CAACN,MAAM,CAAGA,MAAM,CACpB,GAAM,CAAAY,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,CAAS,CACpBX,KAAI,CAACO,KAAK,CAAG,IAAI,CACjBT,MAAM,CAACc,kBAAkB,EAAE,CAC/B,CAAC,CACD,IAAI,CAACX,MAAM,CAACY,OAAO,CAAC,SAACC,KAAK,CAAK,CAC3BA,KAAK,CAACC,WAAW,CAACJ,SAAS,CAAC,CAChC,CAAC,CAAC,CACN,CAACK,YAAA,CAAAnB,MAAA,GAAAoB,GAAA,WAAAC,KAAA,CACD,SAAAC,QAAA,CAAU,CACN,IAAI,CAACZ,KAAK,CAAG,KAAK,CAClB,IAAI,CAACR,MAAM,EAAE,CACjB,CAAC,GAAAkB,GAAA,4BAAAC,KAAA,CACD,SAAAR,yBAAyBU,KAAK,CAAE,CAC5B,GAAM,CAAAC,GAAG,CAAG,EAAE,CACd,QAAS,CAAAC,eAAeA,CAACJ,KAAK,CAAE,CAC5B,GAAIA,KAAK,EAAI,IAAI,CAAE,CAEnB,CAAC,IACI,IAAIA,KAAK,WAAY,CAAAtB,YAAY,CAAE,CACpCyB,GAAG,CAACE,IAAI,CAACL,KAAK,CAAC,CACnB,CAAC,IACI,IAAIM,KAAK,CAACC,OAAO,CAACP,KAAK,CAAC,CAAE,CAC3BA,KAAK,CAACL,OAAO,CAAC,SAACa,CAAC,QAAK,CAAAJ,eAAe,CAACI,CAAC,CAAC,GAAC,CAC5C,CAAC,IACI,IAAI,MAAO,CAAAR,KAAK,GAAK,QAAQ,CAAE,CAChCS,MAAM,CAACC,IAAI,CAACV,KAAK,CAAC,CAACL,OAAO,CAAC,SAACI,GAAG,CAAK,CAChCK,eAAe,CAACJ,KAAK,CAACD,GAAG,CAAC,CAAC,CAC/B,CAAC,CAAC,CACN,CACJ,CACAK,eAAe,CAACF,KAAK,CAAC,CACtB,MAAO,CAAAC,GAAG,CACd,CAAC,WAAAxB,MAAA,YAvCgBA,MAAM,IAAAgC,OAAA,EAyC3BhC,MAAM,CAACY,SAAS,CAAG,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}