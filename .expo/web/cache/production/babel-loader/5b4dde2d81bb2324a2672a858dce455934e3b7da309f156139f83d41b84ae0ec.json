{"ast":null,"code":"\"use strict\";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{\"default\":mod};};Object.defineProperty(exports,\"__esModule\",{value:true});exports.LogBoxMessage=void 0;var react_1=__importDefault(require(\"react\"));var react_native_1=require(\"react-native-web/dist/index\");var cleanContent=function cleanContent(content){return content.replace(/^(TransformError |Warning: (Warning: )?|Error: )/g,\"\");};function LogBoxMessage(props){var _props$message=props.message,content=_props$message.content,substitutions=_props$message.substitutions;if(props.plaintext===true){return react_1.default.createElement(react_native_1.Text,null,cleanContent(content));}var maxLength=props.maxLength!=null?props.maxLength:Infinity;var substitutionStyle=props.style;var elements=[];var length=0;var createUnderLength=function createUnderLength(key,message,style){var cleanMessage=cleanContent(message);if(props.maxLength!=null){cleanMessage=cleanMessage.slice(0,props.maxLength-length);}if(length<maxLength){elements.push(react_1.default.createElement(react_native_1.Text,{key:key,style:style},cleanMessage));}length+=cleanMessage.length;};var lastOffset=substitutions.reduce(function(prevOffset,substitution,index){var key=String(index);if(substitution.offset>prevOffset){var prevPart=content.substr(prevOffset,substitution.offset-prevOffset);createUnderLength(key,prevPart);}var substititionPart=content.substr(substitution.offset,substitution.length);createUnderLength(key+\".5\",substititionPart,substitutionStyle);return substitution.offset+substitution.length;},0);if(lastOffset<content.length){var lastPart=content.substr(lastOffset);createUnderLength(\"-1\",lastPart);}return react_1.default.createElement(react_1.default.Fragment,null,elements);}exports.LogBoxMessage=LogBoxMessage;","map":{"version":3,"names":["react_1","__importDefault","require","react_native_1","cleanContent","content","replace","LogBoxMessage","props","_props$message","message","substitutions","plaintext","default","createElement","Text","maxLength","Infinity","substitutionStyle","style","elements","length","createUnderLength","key","cleanMessage","slice","push","lastOffset","reduce","prevOffset","substitution","index","String","offset","prevPart","substr","substititionPart","lastPart","Fragment","exports"],"sources":["C:\\Riaz\\Projects\\JK\\JK_Frontend\\node_modules\\@expo\\metro-runtime\\src\\error-overlay\\UI\\LogBoxMessage.tsx"],"sourcesContent":["/**\n * Copyright (c) Evan Bacon.\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React from \"react\";\nimport { StyleProp, Text, TextStyle } from \"react-native\";\n\nimport type { Message } from \"../Data/parseLogBoxLog\";\n\ntype Props = {\n  message: Message;\n  style: StyleProp<TextStyle>;\n  plaintext?: boolean;\n  maxLength?: number;\n};\n\nconst cleanContent = (content: string) =>\n  content.replace(/^(TransformError |Warning: (Warning: )?|Error: )/g, \"\");\n\nexport function LogBoxMessage(props: Props): JSX.Element {\n  const { content, substitutions }: Message = props.message;\n\n  if (props.plaintext === true) {\n    return <Text>{cleanContent(content)}</Text>;\n  }\n\n  const maxLength = props.maxLength != null ? props.maxLength : Infinity;\n  const substitutionStyle: StyleProp<TextStyle> = props.style;\n  const elements: JSX.Element[] = [];\n  let length = 0;\n  const createUnderLength = (\n    key: string | \"-1\",\n    message: string,\n    style?: StyleProp<TextStyle>\n  ) => {\n    let cleanMessage = cleanContent(message);\n\n    if (props.maxLength != null) {\n      cleanMessage = cleanMessage.slice(0, props.maxLength - length);\n    }\n\n    if (length < maxLength) {\n      elements.push(\n        <Text key={key} style={style}>\n          {cleanMessage}\n        </Text>\n      );\n    }\n\n    length += cleanMessage.length;\n  };\n\n  const lastOffset = substitutions.reduce((prevOffset, substitution, index) => {\n    const key = String(index);\n\n    if (substitution.offset > prevOffset) {\n      const prevPart = content.substr(\n        prevOffset,\n        substitution.offset - prevOffset\n      );\n\n      createUnderLength(key, prevPart);\n    }\n\n    const substititionPart = content.substr(\n      substitution.offset,\n      substitution.length\n    );\n\n    createUnderLength(key + \".5\", substititionPart, substitutionStyle);\n    return substitution.offset + substitution.length;\n  }, 0);\n\n  if (lastOffset < content.length) {\n    const lastPart = content.substr(lastOffset);\n    createUnderLength(\"-1\", lastPart);\n  }\n\n  return <>{elements}</>;\n}\n"],"mappings":"kNAOA,IAAAA,OAAA,CAAAC,eAAA,CAAAC,OAAA,WAA0B,IAAAC,cAAA,CAAAD,OAAA,gCAY1B,GAAM,CAAAE,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,OAAe,QACnC,CAAAA,OAAO,CAACC,OAAO,CAAC,mDAAmD,CAAE,EAAE,CAAC,GAE1E,QAAgB,CAAAC,aAAaA,CAACC,KAAY,EACxC,IAAAC,cAAA,CAA4CD,KAAK,CAACE,OAAO,CAAjDL,OAAO,CAAAI,cAAA,CAAPJ,OAAO,CAAEM,aAAa,CAAAF,cAAA,CAAbE,aAAa,CAE9B,GAAIH,KAAK,CAACI,SAAS,GAAK,IAAI,CAAE,CAC5B,MAAO,CAAAZ,OAAA,CAAAa,OAAA,CAAAC,aAAA,CAACX,cAAA,CAAAY,IAAI,MAAEX,YAAY,CAACC,OAAO,CAAC,CAAQ,C,CAG7C,GAAM,CAAAW,SAAS,CAAGR,KAAK,CAACQ,SAAS,EAAI,IAAI,CAAGR,KAAK,CAACQ,SAAS,CAAGC,QAAQ,CACtE,GAAM,CAAAC,iBAAiB,CAAyBV,KAAK,CAACW,KAAK,CAC3D,GAAM,CAAAC,QAAQ,CAAkB,EAAE,CAClC,GAAI,CAAAC,MAAM,CAAG,CAAC,CACd,GAAM,CAAAC,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CACrBC,GAAkB,CAClBb,OAAe,CACfS,KAA4B,CAC1B,CACF,GAAI,CAAAK,YAAY,CAAGpB,YAAY,CAACM,OAAO,CAAC,CAExC,GAAIF,KAAK,CAACQ,SAAS,EAAI,IAAI,CAAE,CAC3BQ,YAAY,CAAGA,YAAY,CAACC,KAAK,CAAC,CAAC,CAAEjB,KAAK,CAACQ,SAAS,CAAGK,MAAM,CAAC,C,CAGhE,GAAIA,MAAM,CAAGL,SAAS,CAAE,CACtBI,QAAQ,CAACM,IAAI,CACX1B,OAAA,CAAAa,OAAA,CAAAC,aAAA,CAACX,cAAA,CAAAY,IAAI,EAACQ,GAAG,CAAEA,GAAG,CAAEJ,KAAK,CAAEA,KAAK,EACzBK,YAAY,CACR,CACR,C,CAGHH,MAAM,EAAIG,YAAY,CAACH,MAAM,CAC/B,CAAC,CAED,GAAM,CAAAM,UAAU,CAAGhB,aAAa,CAACiB,MAAM,CAAC,SAACC,UAAU,CAAEC,YAAY,CAAEC,KAAK,CAAI,CAC1E,GAAM,CAAAR,GAAG,CAAGS,MAAM,CAACD,KAAK,CAAC,CAEzB,GAAID,YAAY,CAACG,MAAM,CAAGJ,UAAU,CAAE,CACpC,GAAM,CAAAK,QAAQ,CAAG7B,OAAO,CAAC8B,MAAM,CAC7BN,UAAU,CACVC,YAAY,CAACG,MAAM,CAAGJ,UAAU,CACjC,CAEDP,iBAAiB,CAACC,GAAG,CAAEW,QAAQ,CAAC,C,CAGlC,GAAM,CAAAE,gBAAgB,CAAG/B,OAAO,CAAC8B,MAAM,CACrCL,YAAY,CAACG,MAAM,CACnBH,YAAY,CAACT,MAAM,CACpB,CAEDC,iBAAiB,CAACC,GAAG,CAAG,IAAI,CAAEa,gBAAgB,CAAElB,iBAAiB,CAAC,CAClE,MAAO,CAAAY,YAAY,CAACG,MAAM,CAAGH,YAAY,CAACT,MAAM,CAClD,CAAC,CAAE,CAAC,CAAC,CAEL,GAAIM,UAAU,CAAGtB,OAAO,CAACgB,MAAM,CAAE,CAC/B,GAAM,CAAAgB,QAAQ,CAAGhC,OAAO,CAAC8B,MAAM,CAACR,UAAU,CAAC,CAC3CL,iBAAiB,CAAC,IAAI,CAAEe,QAAQ,CAAC,C,CAGnC,MAAO,CAAArC,OAAA,CAAAa,OAAA,CAAAC,aAAA,CAAAd,OAAA,CAAAa,OAAA,CAAAyB,QAAA,MAAGlB,QAAQ,CAAI,CACxB,CA5DAmB,OAAA,CAAAhC,aAAA,CAAAA,aAAA"},"metadata":{},"sourceType":"script","externalDependencies":[]}