{"ast":null,"code":"import{useRef}from'react';import{makeMutable}from\"./core\";import{shouldBeUseWeb}from\"./PlatformChecker\";var scheduleUpdates=shouldBeUseWeb()?requestAnimationFrame:setImmediate;export function makeViewDescriptorsSet(){var ref=useRef(null);if(ref.current===null){var data={batchToRemove:new Set(),tags:new Set(),waitForInsertSync:false,waitForRemoveSync:false,sharableViewDescriptors:makeMutable([]),items:[],add:function add(item){if(data.tags.has(item.tag)){return;}data.tags.add(item.tag);data.items.push(item);if(!data.waitForInsertSync){data.waitForInsertSync=true;scheduleUpdates(function(){data.sharableViewDescriptors.value=data.items;data.waitForInsertSync=false;});}},remove:function remove(viewTag){data.batchToRemove.add(viewTag);if(!data.waitForRemoveSync){data.waitForRemoveSync=true;scheduleUpdates(function(){var items=[];for(var item of data.items){if(data.batchToRemove.has(item.tag)){data.tags.delete(item.tag);}else{items.push(item);}}data.items=items;data.sharableViewDescriptors.value=items;data.batchToRemove=new Set();data.waitForRemoveSync=false;});}},rebuildsharableViewDescriptors:function rebuildsharableViewDescriptors(sharableViewDescriptors){data.sharableViewDescriptors=sharableViewDescriptors;}};ref.current=data;}return ref.current;}export function makeViewsRefSet(){var ref=useRef(null);if(ref.current===null){var data={items:new Set(),add:function add(item){if(data.items.has(item))return;data.items.add(item);},remove:function remove(item){data.items.delete(item);}};ref.current=data;}return ref.current;}","map":{"version":3,"names":["useRef","makeMutable","shouldBeUseWeb","scheduleUpdates","requestAnimationFrame","setImmediate","makeViewDescriptorsSet","ref","current","data","batchToRemove","Set","tags","waitForInsertSync","waitForRemoveSync","sharableViewDescriptors","items","add","item","has","tag","push","value","remove","viewTag","delete","rebuildsharableViewDescriptors","makeViewsRefSet"],"sources":["C:/Riaz/Projects/JK/JK_Frontend/node_modules/react-native-reanimated/lib/reanimated2/ViewDescriptorsSet.js"],"sourcesContent":["import { useRef } from 'react';\nimport { makeMutable } from './core';\nimport { shouldBeUseWeb } from './PlatformChecker';\nconst scheduleUpdates = shouldBeUseWeb() ? requestAnimationFrame : setImmediate;\nexport function makeViewDescriptorsSet() {\n    const ref = useRef(null);\n    if (ref.current === null) {\n        const data = {\n            batchToRemove: new Set(),\n            tags: new Set(),\n            waitForInsertSync: false,\n            waitForRemoveSync: false,\n            sharableViewDescriptors: makeMutable([]),\n            items: [],\n            add: (item) => {\n                if (data.tags.has(item.tag)) {\n                    return;\n                }\n                data.tags.add(item.tag);\n                data.items.push(item);\n                if (!data.waitForInsertSync) {\n                    data.waitForInsertSync = true;\n                    scheduleUpdates(() => {\n                        data.sharableViewDescriptors.value = data.items;\n                        data.waitForInsertSync = false;\n                    });\n                }\n            },\n            remove: (viewTag) => {\n                data.batchToRemove.add(viewTag);\n                if (!data.waitForRemoveSync) {\n                    data.waitForRemoveSync = true;\n                    scheduleUpdates(() => {\n                        const items = [];\n                        for (const item of data.items) {\n                            if (data.batchToRemove.has(item.tag)) {\n                                data.tags.delete(item.tag);\n                            }\n                            else {\n                                items.push(item);\n                            }\n                        }\n                        data.items = items;\n                        data.sharableViewDescriptors.value = items;\n                        data.batchToRemove = new Set();\n                        data.waitForRemoveSync = false;\n                    });\n                }\n            },\n            rebuildsharableViewDescriptors: (sharableViewDescriptors) => {\n                data.sharableViewDescriptors = sharableViewDescriptors;\n            },\n        };\n        ref.current = data;\n    }\n    return ref.current;\n}\nexport function makeViewsRefSet() {\n    const ref = useRef(null);\n    if (ref.current === null) {\n        const data = {\n            items: new Set(),\n            add: (item) => {\n                if (data.items.has(item))\n                    return;\n                data.items.add(item);\n            },\n            remove: (item) => {\n                data.items.delete(item);\n            },\n        };\n        ref.current = data;\n    }\n    return ref.current;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}