{"ast":null,"code":"import{defineAnimation}from\"./util\";export function withSpring(toValue,userConfig,callback){'worklet';return defineAnimation(toValue,function(){'worklet';var config={damping:10,mass:1,stiffness:100,overshootClamping:false,restDisplacementThreshold:0.01,restSpeedThreshold:2,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}function spring(animation,now){var toValue=animation.toValue,lastTimestamp=animation.lastTimestamp,current=animation.current,velocity=animation.velocity;var deltaTime=Math.min(now-lastTimestamp,64);animation.lastTimestamp=now;var c=config.damping;var m=config.mass;var k=config.stiffness;var v0=-velocity;var x0=toValue-current;var zeta=c/(2*Math.sqrt(k*m));var omega0=Math.sqrt(k/m);var omega1=omega0*Math.sqrt(1-Math.pow(zeta,2));var t=deltaTime/1000;var sin1=Math.sin(omega1*t);var cos1=Math.cos(omega1*t);var underDampedEnvelope=Math.exp(-zeta*omega0*t);var underDampedFrag1=underDampedEnvelope*(sin1*((v0+zeta*omega0*x0)/omega1)+x0*cos1);var underDampedPosition=toValue-underDampedFrag1;var underDampedVelocity=zeta*omega0*underDampedFrag1-underDampedEnvelope*(cos1*(v0+zeta*omega0*x0)-omega1*x0*sin1);var criticallyDampedEnvelope=Math.exp(-omega0*t);var criticallyDampedPosition=toValue-criticallyDampedEnvelope*(x0+(v0+omega0*x0)*t);var criticallyDampedVelocity=criticallyDampedEnvelope*(v0*(t*omega0-1)+t*x0*omega0*omega0);var isOvershooting=function isOvershooting(){if(config.overshootClamping&&config.stiffness!==0){return current<toValue?animation.current>toValue:animation.current<toValue;}else{return false;}};var isVelocity=Math.abs(velocity)<config.restSpeedThreshold;var isDisplacement=config.stiffness===0||Math.abs(toValue-current)<config.restDisplacementThreshold;if(zeta<1){animation.current=underDampedPosition;animation.velocity=underDampedVelocity;}else{animation.current=criticallyDampedPosition;animation.velocity=criticallyDampedVelocity;}if(isOvershooting()||isVelocity&&isDisplacement){if(config.stiffness!==0){animation.velocity=0;animation.current=toValue;}animation.lastTimestamp=0;return true;}return false;}function onStart(animation,value,now,previousAnimation){animation.current=value;if(previousAnimation){animation.velocity=previousAnimation.velocity||animation.velocity||0;animation.lastTimestamp=previousAnimation.lastTimestamp||now;}else{animation.lastTimestamp=now;}}return{onFrame:spring,onStart:onStart,toValue:toValue,velocity:config.velocity||0,current:toValue,callback:callback,lastTimestamp:0};});}","map":{"version":3,"names":["defineAnimation","withSpring","toValue","userConfig","callback","config","damping","mass","stiffness","overshootClamping","restDisplacementThreshold","restSpeedThreshold","velocity","Object","keys","forEach","key","spring","animation","now","lastTimestamp","current","deltaTime","Math","min","c","m","k","v0","x0","zeta","sqrt","omega0","omega1","pow","t","sin1","sin","cos1","cos","underDampedEnvelope","exp","underDampedFrag1","underDampedPosition","underDampedVelocity","criticallyDampedEnvelope","criticallyDampedPosition","criticallyDampedVelocity","isOvershooting","isVelocity","abs","isDisplacement","onStart","value","previousAnimation","onFrame"],"sources":["C:/Riaz/Projects/JK/JK_Frontend/node_modules/react-native-reanimated/lib/reanimated2/animation/spring.js"],"sourcesContent":["import { defineAnimation } from './util';\nexport function withSpring(toValue, userConfig, callback) {\n    'worklet';\n    return defineAnimation(toValue, () => {\n        'worklet';\n        // TODO: figure out why we can't use spread or Object.assign here\n        // when user config is \"frozen object\" we can't enumerate it (perhaps\n        // something is wrong with the object prototype).\n        const config = {\n            damping: 10,\n            mass: 1,\n            stiffness: 100,\n            overshootClamping: false,\n            restDisplacementThreshold: 0.01,\n            restSpeedThreshold: 2,\n            velocity: 0,\n        };\n        if (userConfig) {\n            Object.keys(userConfig).forEach((key) => (config[key] = userConfig[key]));\n        }\n        function spring(animation, now) {\n            const { toValue, lastTimestamp, current, velocity } = animation;\n            const deltaTime = Math.min(now - lastTimestamp, 64);\n            animation.lastTimestamp = now;\n            const c = config.damping;\n            const m = config.mass;\n            const k = config.stiffness;\n            const v0 = -velocity;\n            const x0 = toValue - current;\n            const zeta = c / (2 * Math.sqrt(k * m)); // damping ratio\n            const omega0 = Math.sqrt(k / m); // undamped angular frequency of the oscillator (rad/ms)\n            const omega1 = omega0 * Math.sqrt(1 - Math.pow(zeta, 2)); // exponential decay\n            const t = deltaTime / 1000;\n            const sin1 = Math.sin(omega1 * t);\n            const cos1 = Math.cos(omega1 * t);\n            // under damped\n            const underDampedEnvelope = Math.exp(-zeta * omega0 * t);\n            const underDampedFrag1 = underDampedEnvelope *\n                (sin1 * ((v0 + zeta * omega0 * x0) / omega1) + x0 * cos1);\n            const underDampedPosition = toValue - underDampedFrag1;\n            // This looks crazy -- it's actually just the derivative of the oscillation function\n            const underDampedVelocity = zeta * omega0 * underDampedFrag1 -\n                underDampedEnvelope *\n                    (cos1 * (v0 + zeta * omega0 * x0) - omega1 * x0 * sin1);\n            // critically damped\n            const criticallyDampedEnvelope = Math.exp(-omega0 * t);\n            const criticallyDampedPosition = toValue - criticallyDampedEnvelope * (x0 + (v0 + omega0 * x0) * t);\n            const criticallyDampedVelocity = criticallyDampedEnvelope *\n                (v0 * (t * omega0 - 1) + t * x0 * omega0 * omega0);\n            const isOvershooting = () => {\n                if (config.overshootClamping && config.stiffness !== 0) {\n                    return current < toValue\n                        ? animation.current > toValue\n                        : animation.current < toValue;\n                }\n                else {\n                    return false;\n                }\n            };\n            const isVelocity = Math.abs(velocity) < config.restSpeedThreshold;\n            const isDisplacement = config.stiffness === 0 ||\n                Math.abs(toValue - current) < config.restDisplacementThreshold;\n            if (zeta < 1) {\n                animation.current = underDampedPosition;\n                animation.velocity = underDampedVelocity;\n            }\n            else {\n                animation.current = criticallyDampedPosition;\n                animation.velocity = criticallyDampedVelocity;\n            }\n            if (isOvershooting() || (isVelocity && isDisplacement)) {\n                if (config.stiffness !== 0) {\n                    animation.velocity = 0;\n                    animation.current = toValue;\n                }\n                // clear lastTimestamp to avoid using stale value by the next spring animation that starts after this one\n                animation.lastTimestamp = 0;\n                return true;\n            }\n            return false;\n        }\n        function onStart(animation, value, now, previousAnimation) {\n            animation.current = value;\n            if (previousAnimation) {\n                animation.velocity =\n                    previousAnimation.velocity || animation.velocity || 0;\n                animation.lastTimestamp = previousAnimation.lastTimestamp || now;\n            }\n            else {\n                animation.lastTimestamp = now;\n            }\n        }\n        return {\n            onFrame: spring,\n            onStart,\n            toValue,\n            velocity: config.velocity || 0,\n            current: toValue,\n            callback,\n            lastTimestamp: 0,\n        };\n    });\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}