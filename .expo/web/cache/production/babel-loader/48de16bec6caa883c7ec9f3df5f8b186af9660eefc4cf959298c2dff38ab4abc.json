{"ast":null,"code":"import{cond,sub,divide,multiply,sqrt,add,block,set,exp,sin,cos,eq,or,neq,and,lessThan,greaterThan,proc,min,abs}from\"../base\";import AnimatedValue from\"../core/InternalAnimatedValue\";var MAX_STEPS_MS=64;function spring(clock,state,config){var lastTime=cond(state.time,state.time,clock);var deltaTime=min(sub(clock,lastTime),MAX_STEPS_MS);var c=config.damping;var m=config.mass;var k=config.stiffness;var v0=multiply(-1,state.velocity);var x0=sub(config.toValue,state.position);var zeta=divide(c,multiply(2,sqrt(multiply(k,m))));var omega0=sqrt(divide(k,m));var omega1=multiply(omega0,sqrt(sub(1,multiply(zeta,zeta))));var t=divide(deltaTime,1000);var sin1=sin(multiply(omega1,t));var cos1=cos(multiply(omega1,t));var underDampedEnvelope=exp(multiply(-1,zeta,omega0,t));var underDampedFrag1=multiply(underDampedEnvelope,add(multiply(sin1,divide(add(v0,multiply(zeta,omega0,x0)),omega1)),multiply(x0,cos1)));var underDampedPosition=sub(config.toValue,underDampedFrag1);var underDampedVelocity=sub(multiply(zeta,omega0,underDampedFrag1),multiply(underDampedEnvelope,sub(multiply(cos1,add(v0,multiply(zeta,omega0,x0))),multiply(omega1,x0,sin1))));var criticallyDampedEnvelope=exp(multiply(-1,omega0,t));var criticallyDampedPosition=sub(config.toValue,multiply(criticallyDampedEnvelope,add(x0,multiply(add(v0,multiply(omega0,x0)),t))));var criticallyDampedVelocity=multiply(criticallyDampedEnvelope,add(multiply(v0,sub(multiply(t,omega0),1)),multiply(t,x0,omega0,omega0)));var prevPosition=state.prevPosition?state.prevPosition:new AnimatedValue(0);var isOvershooting=cond(and(config.overshootClamping,neq(config.stiffness,0)),cond(lessThan(prevPosition,config.toValue),greaterThan(state.position,config.toValue),lessThan(state.position,config.toValue)));var isVelocity=lessThan(abs(state.velocity),config.restSpeedThreshold);var isDisplacement=or(eq(config.stiffness,0),lessThan(abs(sub(config.toValue,state.position)),config.restDisplacementThreshold));return block([set(prevPosition,state.position),cond(lessThan(zeta,1),[set(state.position,underDampedPosition),set(state.velocity,underDampedVelocity)],[set(state.position,criticallyDampedPosition),set(state.velocity,criticallyDampedVelocity)]),set(state.time,clock),cond(or(isOvershooting,and(isVelocity,isDisplacement)),[cond(neq(config.stiffness,0),[set(state.velocity,0),set(state.position,config.toValue)]),set(state.finished,1)])]);}var procSpring=proc(function(finished,velocity,position,time,prevPosition,toValue,damping,mass,stiffness,overshootClamping,restSpeedThreshold,restDisplacementThreshold,clock){return spring(clock,{finished:finished,velocity:velocity,position:position,time:time,prevPosition:prevPosition},{toValue:toValue,damping:damping,mass:mass,stiffness:stiffness,overshootClamping:overshootClamping,restDisplacementThreshold:restDisplacementThreshold,restSpeedThreshold:restSpeedThreshold});});export default function springAnimation(clock,_ref,_ref2){var finished=_ref.finished,velocity=_ref.velocity,position=_ref.position,time=_ref.time,prevPosition=_ref.prevPosition;var toValue=_ref2.toValue,damping=_ref2.damping,mass=_ref2.mass,stiffness=_ref2.stiffness,overshootClamping=_ref2.overshootClamping,restDisplacementThreshold=_ref2.restDisplacementThreshold,restSpeedThreshold=_ref2.restSpeedThreshold;return procSpring(finished,velocity,position,time,prevPosition,toValue,damping,mass,stiffness,overshootClamping,restSpeedThreshold,restDisplacementThreshold,clock);}","map":{"version":3,"names":["cond","sub","divide","multiply","sqrt","add","block","set","exp","sin","cos","eq","or","neq","and","lessThan","greaterThan","proc","min","abs","AnimatedValue","MAX_STEPS_MS","spring","clock","state","config","lastTime","time","deltaTime","c","damping","m","mass","k","stiffness","v0","velocity","x0","toValue","position","zeta","omega0","omega1","t","sin1","cos1","underDampedEnvelope","underDampedFrag1","underDampedPosition","underDampedVelocity","criticallyDampedEnvelope","criticallyDampedPosition","criticallyDampedVelocity","prevPosition","isOvershooting","overshootClamping","isVelocity","restSpeedThreshold","isDisplacement","restDisplacementThreshold","finished","procSpring","springAnimation","_ref","_ref2"],"sources":["C:/Riaz/Projects/JK/JK_Frontend/node_modules/react-native-reanimated/lib/reanimated1/animations/spring.js"],"sourcesContent":["import {\n  cond,\n  sub,\n  divide,\n  multiply,\n  sqrt,\n  add,\n  block,\n  set,\n  exp,\n  sin,\n  cos,\n  eq,\n  or,\n  neq,\n  and,\n  lessThan,\n  greaterThan,\n  proc,\n  min,\n  abs,\n} from '../base';\nimport AnimatedValue from '../core/InternalAnimatedValue';\n\nconst MAX_STEPS_MS = 64;\n\nfunction spring(clock, state, config) {\n  const lastTime = cond(state.time, state.time, clock);\n\n  const deltaTime = min(sub(clock, lastTime), MAX_STEPS_MS);\n\n  const c = config.damping;\n  const m = config.mass;\n  const k = config.stiffness;\n\n  const v0 = multiply(-1, state.velocity);\n  const x0 = sub(config.toValue, state.position);\n\n  const zeta = divide(c, multiply(2, sqrt(multiply(k, m)))); // damping ratio\n  const omega0 = sqrt(divide(k, m)); // undamped angular frequency of the oscillator (rad/ms)\n  const omega1 = multiply(omega0, sqrt(sub(1, multiply(zeta, zeta)))); // exponential decay\n\n  const t = divide(deltaTime, 1000); // in seconds\n\n  const sin1 = sin(multiply(omega1, t));\n  const cos1 = cos(multiply(omega1, t));\n\n  // under damped\n  const underDampedEnvelope = exp(multiply(-1, zeta, omega0, t));\n  const underDampedFrag1 = multiply(\n    underDampedEnvelope,\n    add(\n      multiply(sin1, divide(add(v0, multiply(zeta, omega0, x0)), omega1)),\n      multiply(x0, cos1)\n    )\n  );\n  const underDampedPosition = sub(config.toValue, underDampedFrag1);\n  // This looks crazy -- it's actually just the derivative of the oscillation function\n  const underDampedVelocity = sub(\n    multiply(zeta, omega0, underDampedFrag1),\n    multiply(\n      underDampedEnvelope,\n      sub(\n        multiply(cos1, add(v0, multiply(zeta, omega0, x0))),\n        multiply(omega1, x0, sin1)\n      )\n    )\n  );\n\n  // critically damped\n  const criticallyDampedEnvelope = exp(multiply(-1, omega0, t));\n  const criticallyDampedPosition = sub(\n    config.toValue,\n    multiply(\n      criticallyDampedEnvelope,\n      add(x0, multiply(add(v0, multiply(omega0, x0)), t))\n    )\n  );\n  const criticallyDampedVelocity = multiply(\n    criticallyDampedEnvelope,\n    add(\n      multiply(v0, sub(multiply(t, omega0), 1)),\n      multiply(t, x0, omega0, omega0)\n    )\n  );\n\n  // conditions for stopping the spring animations\n  const prevPosition = state.prevPosition\n    ? state.prevPosition\n    : new AnimatedValue(0);\n\n  const isOvershooting = cond(\n    and(config.overshootClamping, neq(config.stiffness, 0)),\n    cond(\n      lessThan(prevPosition, config.toValue),\n      greaterThan(state.position, config.toValue),\n      lessThan(state.position, config.toValue)\n    )\n  );\n  const isVelocity = lessThan(abs(state.velocity), config.restSpeedThreshold);\n  const isDisplacement = or(\n    eq(config.stiffness, 0),\n    lessThan(\n      abs(sub(config.toValue, state.position)),\n      config.restDisplacementThreshold\n    )\n  );\n\n  return block([\n    set(prevPosition, state.position),\n    cond(\n      lessThan(zeta, 1),\n      [\n        set(state.position, underDampedPosition),\n        set(state.velocity, underDampedVelocity),\n      ],\n      [\n        set(state.position, criticallyDampedPosition),\n        set(state.velocity, criticallyDampedVelocity),\n      ]\n    ),\n    set(state.time, clock),\n    cond(or(isOvershooting, and(isVelocity, isDisplacement)), [\n      cond(neq(config.stiffness, 0), [\n        set(state.velocity, 0),\n        set(state.position, config.toValue),\n      ]),\n      set(state.finished, 1),\n    ]),\n  ]);\n}\n\nconst procSpring = proc(\n  (\n    finished,\n    velocity,\n    position,\n    time,\n    prevPosition,\n    toValue,\n    damping,\n    mass,\n    stiffness,\n    overshootClamping,\n    restSpeedThreshold,\n    restDisplacementThreshold,\n    clock\n  ) =>\n    spring(\n      clock,\n      {\n        finished,\n        velocity,\n        position,\n        time,\n        prevPosition,\n      },\n      {\n        toValue,\n        damping,\n        mass,\n        stiffness,\n        overshootClamping,\n        restDisplacementThreshold,\n        restSpeedThreshold,\n      }\n    )\n);\n\nexport default function springAnimation(\n  clock,\n  { finished, velocity, position, time, prevPosition },\n  {\n    toValue,\n    damping,\n    mass,\n    stiffness,\n    overshootClamping,\n    restDisplacementThreshold,\n    restSpeedThreshold,\n  }\n) {\n  return procSpring(\n    finished,\n    velocity,\n    position,\n    time,\n    prevPosition,\n    toValue,\n    damping,\n    mass,\n    stiffness,\n    overshootClamping,\n    restSpeedThreshold,\n    restDisplacementThreshold,\n    clock\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}