{"ast":null,"code":"import{defineAnimation}from\"./util\";import Platform from\"react-native-web/dist/exports/Platform\";export function withDecay(userConfig,callback){'worklet';return defineAnimation(0,function(){'worklet';var _a;var config={deceleration:0.998,velocityFactor:Platform.OS!=='web'?1:1000,velocity:0};if(userConfig){Object.keys(userConfig).forEach(function(key){return config[key]=userConfig[key];});}var VELOCITY_EPS=Platform.OS!=='web'?1:1/20;var SLOPE_FACTOR=0.1;function decay(animation,now){var lastTimestamp=animation.lastTimestamp,startTimestamp=animation.startTimestamp,initialVelocity=animation.initialVelocity,current=animation.current,velocity=animation.velocity;var deltaTime=Math.min(now-lastTimestamp,64);var v=velocity*Math.exp(-(1-config.deceleration)*(now-startTimestamp)*SLOPE_FACTOR);animation.current=current+v*config.velocityFactor*deltaTime/1000;animation.velocity=v;animation.lastTimestamp=now;if(config.clamp){if(initialVelocity<0&&animation.current<=config.clamp[0]){animation.current=config.clamp[0];return true;}else if(initialVelocity>0&&animation.current>=config.clamp[1]){animation.current=config.clamp[1];return true;}}return Math.abs(v)<VELOCITY_EPS;}function validateConfig(){if(config.clamp){if(!Array.isArray(config.clamp)){throw Error(\"config.clamp must be an array but is \"+typeof config.clamp);}if(config.clamp.length!==2){throw Error(\"clamp array must contain 2 items but is given \"+config.clamp.length);}}if(config.velocityFactor<=0){throw Error(\"config.velocityFactor must be greather then 0 but is \"+config.velocityFactor);}}function onStart(animation,value,now){animation.current=value;animation.lastTimestamp=now;animation.startTimestamp=now;animation.initialVelocity=config.velocity;validateConfig();}return{onFrame:decay,onStart:onStart,callback:callback,velocity:(_a=config.velocity)!==null&&_a!==void 0?_a:0,initialVelocity:0,current:0,lastTimestamp:0,startTimestamp:0};});}","map":{"version":3,"names":["defineAnimation","Platform","withDecay","userConfig","callback","_a","config","deceleration","velocityFactor","OS","velocity","Object","keys","forEach","key","VELOCITY_EPS","SLOPE_FACTOR","decay","animation","now","lastTimestamp","startTimestamp","initialVelocity","current","deltaTime","Math","min","v","exp","clamp","abs","validateConfig","Array","isArray","Error","length","onStart","value","onFrame"],"sources":["C:/Riaz/Projects/JK/JK_Frontend/node_modules/react-native-reanimated/lib/reanimated2/animation/decay.js"],"sourcesContent":["import { defineAnimation } from './util';\nimport { Platform } from 'react-native';\nexport function withDecay(userConfig, callback) {\n    'worklet';\n    return defineAnimation(0, () => {\n        'worklet';\n        var _a;\n        const config = {\n            deceleration: 0.998,\n            velocityFactor: Platform.OS !== 'web' ? 1 : 1000,\n            velocity: 0,\n        };\n        if (userConfig) {\n            Object.keys(userConfig).forEach((key) => (config[key] = userConfig[key]));\n        }\n        const VELOCITY_EPS = Platform.OS !== 'web' ? 1 : 1 / 20;\n        const SLOPE_FACTOR = 0.1;\n        function decay(animation, now) {\n            const { lastTimestamp, startTimestamp, initialVelocity, current, velocity, } = animation;\n            const deltaTime = Math.min(now - lastTimestamp, 64);\n            const v = velocity *\n                Math.exp(-(1 - config.deceleration) * (now - startTimestamp) * SLOPE_FACTOR);\n            animation.current =\n                current + (v * config.velocityFactor * deltaTime) / 1000; // /1000 because time is in ms not in s\n            animation.velocity = v;\n            animation.lastTimestamp = now;\n            if (config.clamp) {\n                if (initialVelocity < 0 && animation.current <= config.clamp[0]) {\n                    animation.current = config.clamp[0];\n                    return true;\n                }\n                else if (initialVelocity > 0 &&\n                    animation.current >= config.clamp[1]) {\n                    animation.current = config.clamp[1];\n                    return true;\n                }\n            }\n            return Math.abs(v) < VELOCITY_EPS;\n        }\n        function validateConfig() {\n            if (config.clamp) {\n                if (!Array.isArray(config.clamp)) {\n                    throw Error(`config.clamp must be an array but is ${typeof config.clamp}`);\n                }\n                if (config.clamp.length !== 2) {\n                    throw Error(`clamp array must contain 2 items but is given ${config.clamp.length}`);\n                }\n            }\n            if (config.velocityFactor <= 0) {\n                throw Error(`config.velocityFactor must be greather then 0 but is ${config.velocityFactor}`);\n            }\n        }\n        function onStart(animation, value, now) {\n            animation.current = value;\n            animation.lastTimestamp = now;\n            animation.startTimestamp = now;\n            animation.initialVelocity = config.velocity;\n            validateConfig();\n        }\n        return {\n            onFrame: decay,\n            onStart,\n            callback,\n            velocity: (_a = config.velocity) !== null && _a !== void 0 ? _a : 0,\n            initialVelocity: 0,\n            current: 0,\n            lastTimestamp: 0,\n            startTimestamp: 0,\n        };\n    });\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}